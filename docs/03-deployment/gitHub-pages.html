<!DOCTYPE html>

<head>
    <title>
        Pushpin
    </title>
    <link rel="stylesheet" href="../style/index.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap"
        rel="stylesheet">
    <link rel="preload" href="https://fonts.gstatic.com/s/merriweather/v30/u-44jCBfJsgP7wwxPTpObkYyWA.woff2" as="font"
        type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/s/merriweather/v30/u-44jCBfJsgP7wwxPTpObkYyWA.woff2" as="font"
        type="font/woff2" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <meta charset="UTF-8">
</head>



<body>
    <div class="toplevel">
        <div class="nav">
            <div class="headerbox">
                <h1><img src="../images/pushpin_paint.png" width="50px" height="75px"><a
                        href="../index.html">Pushpin</a></h1>
                <a href="https://github.com/tedbauer/pushpin"><img src="../images/github-mark.png" width="25px"
                        height="25px" />GitHub</a>
            </div>
            

            
            
            <h2>Getting Started</h2>

            
            <div class="pages-nav">
                <a href="../01-getting-started&#x2F;installation.html">
                    <div 
                        class="pages-nav-not-selected" >Installation</div>
                </a>
            </div>
            
            <div class="pages-nav">
                <a href="../01-getting-started&#x2F;overview.html">
                    <div 
                        class="pages-nav-not-selected" >Overview</div>
                </a>
            </div>
            

            

            
            
            
            <h2>Concepts</h2>

            
            <div class="pages-nav">
                <a href="../02-concepts&#x2F;sections.html">
                    <div 
                        class="pages-nav-not-selected" >Sections</div>
                </a>
            </div>
            
            <div class="pages-nav">
                <a href="../02-concepts&#x2F;pages.html">
                    <div 
                        class="pages-nav-not-selected" >Pages</div>
                </a>
            </div>
            
            <div class="pages-nav">
                <a href="../02-concepts&#x2F;templates.html">
                    <div 
                        class="pages-nav-not-selected" >Templates</div>
                </a>
            </div>
            
            <div class="pages-nav">
                <a href="../02-concepts&#x2F;CLI.html">
                    <div 
                        class="pages-nav-not-selected" >CLI</div>
                </a>
            </div>
            

            

            
            
            
            <h2>Deployment</h2>

            
            <div class="pages-nav">
                <a href="../03-deployment&#x2F;gitHub-pages.html">
                    <div  class="pages-nav-selected" >GitHub Pages</div>
                </a>
            </div>
            

            

            
            
        </div>
        <div class="content">
            <h1>Deploy on GitHub Pages</h1>
<p>GitHub lets you serve HTML files from a configurable branch and directory in the repository. Check out GitHub's <a href="https://docs.github.com/en/pages/quickstart">instructions for setting that up</a>. Note that by default, GitHub Pages sets up a workflow that runs Jekyll and publishes that. We don't need to run Jekyll; we just want to run Pushpin, and then have the resulting HTML pages served by GitHub pages. Disable Jekyll by creating an empty file called <code>.nojekyll</code> in the website root, as well as in <code>docs/</code> if you publish your site in that directory.</p>
<p>To deploy a site with Pushpin and GitHub pages, you can set up some automation for each commit to your site's repo:</p>
<ol>
<li>Checkout a publish branch that GitHub pages serves HTML from.</li>
<li>Run Pushpin in the site root directory to generate HTML pages.</li>
</ol>
<p>Here's an example GitHub action configuration to deploy a site:</p>
<pre><code>name: Generate site and push to GitHub pages branch

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  generate_and_commit:
    runs-on: ubuntu-latest

    permissions:
      contents: write

    steps:
      - name: Install Rust
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
          override: true

      - name: Checkout website repo
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
          ref: master

      - name: Clone pushpin
        uses: actions/checkout@v3
        with:
          repository: tedbauer/pushpin
          ref: master
          path: cloned-repo

     - name: Build, install, and run pushpin
        working-directory: cloned-repo
        run: |
          cargo build --release
          PUSHPIN_PATH=$(pwd)/target/release/pushpin
          echo "PUSHPIN_PATH=$PUSHPIN_PATH" &gt;&gt; $GITHUB_ENV
          cd ..
          $PUSHPIN_PATH generate

      - name: Commit changes and push
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git add .
          git checkout -b gh-pages
          git commit -m "Automated file generation"
          git push https://${{ secrets.ACCESS_TOKEN }}@github.com/&lt;your-username&gt;/&lt;your-repo-link&gt; HEAD:gh-pages --force
</code></pre>

        </div>
    </div>
</body>



</html>